TARGET_DIR := $(HOME)/infection
CURRENT_DIR := $(shell pwd -P)

FILES := requirements.txt \
		README.md \
		stockholm.py \
		stockholm \
		stockholm.pub \
		script.sh

all: setup

setup:
	@mkdir -p $(TARGET_DIR)
	@cp $(FILES) $(TARGET_DIR)
	@echo "$(CURRENT_DIR)" > $(TARGET_DIR)/.original_dir
	@cd $(TARGET_DIR) && exec $$SHELL

clean:
	@if [ -f $(TARGET_DIR)/.original_dir ]; then \
		rm -rf $(TARGET_DIR); \
	fi

.PHONY: all setup clean